(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d22d3d8"],{f73d:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",{attrs:{fluid:""}},[r("v-card",[r("v-card-title",{staticClass:"d-flex text-center justify-center"},[r("h3",{staticClass:"d-flex font-weight-bold basil--text"},[e._v(" Your alerts ")])]),r("v-fab-transition",[r("v-btn",{attrs:{color:"error",fab:"",top:"",fixed:"",right:""},on:{click:function(t){return e.goHome()}}},[r("v-icon",[e._v("mdi-plus")])],1)],1),r("AlertsList")],1)],1)},n=[],i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-container",[0===e.countAlerts?r("div",{staticClass:"d-flex text-center justify-center"},[e._v(" No alerts are here... yet. ")]):e._l(e.alerts,(function(e,t){return r("Alert",{key:t,attrs:{alert:e}})})),r("v-pagination",{attrs:{length:e.pages},model:{value:e.pagination.page,callback:function(t){e.$set(e.pagination,"page",t)},expression:"pagination.page"}})],2)},s=[],l=(r("96cf"),r("1da1")),o=r("5530"),c=r("2f62"),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{staticClass:"pa-4",attrs:{outlined:"",grow:""}},[r("div",[r("v-row",{attrs:{justify:"center"}},[r("v-alert",{staticClass:"flex-grow-1 flex-shrink-0 pa-2",staticStyle:{"min-width":"100px","max-width":"95%"},attrs:{icon:"mdi-email",color:"info",grow:"",prominent:"",text:""}},[r("v-row",{attrs:{align:"center"}},[r("v-col",[r("div",[e._v("Alert")]),r("p",{staticClass:"display-1 text--primary"},[e._v("Your alert in eBay")]),r("div",{staticClass:"text--primary"},[e._v(" Search Term: "+e._s(e.alert.searchTerm)),r("br"),e._v(" Interval of time: "+e._s(e.alert.intervalTime)+" ")])]),r("v-row",{staticClass:"shrink pa-4"},[r("v-btn",{attrs:{color:"sucess",icon:""},on:{click:function(t){e.dialog=!0}}},[r("v-icon",[e._v(" mdi-pencil ")])],1),r("v-btn",{staticClass:"shrink pa-4",attrs:{color:"error",disabled:e.isSentEmail,icon:""},on:{click:function(t){return e.destroy()}}},[r("v-icon",[e._v(" mdi-delete")])],1)],1)],1)],1),r("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",{staticClass:"mx-auto",attrs:{dark:"","max-width":"500"}},[r("v-card-actions",[r("v-list-item",{staticClass:"grow"},[r("v-row",{attrs:{align:"center",justify:"end"}},[r("v-card-title",[r("v-icon",{attrs:{medium:"",left:""}},[e._v(" mdi-bell ")]),r("span",{staticClass:"title font-weight-light"},[e._v("Alert")])],1),r("v-btn",{staticClass:"subheading mr-1",attrs:{text:"",icon:"",small:""},on:{click:function(t){return e.closeDialog()}}},[r("v-icon",[e._v(" mdi-close ")])],1)],1)],1)],1),r("AlertEdit",{attrs:{alert:e.alert}})],1)],1),r("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[r("v-card",{staticClass:"mx-auto",attrs:{dark:"","max-width":"500"}},[r("v-card-actions",[r("v-list-item",{staticClass:"grow"},[r("v-row",{attrs:{align:"center",justify:"end"}},[r("v-card-title",[r("v-icon",{attrs:{medium:"",left:""}},[e._v(" mdi-alert ")]),r("span",{staticClass:"title font-weight-light"},[e._v("Delete the alert: "+e._s(e.alert.uuid))])],1),r("v-btn",{staticClass:"subheading mr-1",attrs:{text:"",icon:"",small:""},on:{click:function(t){return e.closeDialogDelete()}}},[r("v-icon",[e._v(" mdi-close ")])],1)],1)],1)],1),r("v-card-text",[e._v(" "+e._s(e.msg)+" ")])],1)],1)],1)],1)])},d=[],m=(r("b0c0"),{methods:{linkTo:function(e,t){0===t.length&&this.$router.currentRoute.name!==e&&this.$router.push({name:e}),this.$router.currentRoute.name!==e&&this.$router.push({name:e,params:t})}}}),v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ValidationObserver",{ref:"obs",scopedSlots:e._u([{key:"default",fn:function(t){var a=t.invalid,n=t.validated;return r("v-card",{},[r("v-card-text",[r("v-form",[r("v-text-field",{attrs:{disabled:"",success:"",label:"Email",filled:"",required:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("ValidationProvider",{attrs:{name:"search_term",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,n=t.valid;return r("v-text-field",{attrs:{"error-messages":a,success:n,label:"Search term",required:""},model:{value:e.search_term,callback:function(t){e.search_term=t},expression:"search_term"}})}}],null,!0)}),r("ValidationProvider",{attrs:{name:"search_term",rules:"required"},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.errors,n=t.valid;return r("v-select",{attrs:{"error-messages":a,"item-text":"interval","item-value":"abbr",success:n,items:e.intervals,label:"Time interval",dense:""},model:{value:e.interval,callback:function(t){e.interval=t},expression:"interval"}})}}],null,!0)})],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"error"},on:{click:function(t){return e.setInitialState()}}},[e._v("Cancel")]),r("v-btn",{attrs:{color:"primary",disabled:a||!n},on:{click:e.submit}},[e._v("OK")])],1)],1)}}])})},f=[],h=r("7bb1"),p=r("6c33"),g={name:"AlertEdit",components:{ValidationProvider:h["b"],ValidationObserver:h["a"]},props:{alert:{type:Object,required:!0,default:null}},data:function(){return{search_term:null,email:null,interval:null,intervals:[{abbr:2,interval:"2 minutes"},{abbr:10,interval:"10 minutes"},{abbr:30,interval:"30 minutes"}]}},mounted:function(){this.setInitialState()},methods:{setInitialState:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.search_term=e.alert.searchTerm,e.interval=e.alert.intervalTime,e.email=e.alert.owner.email,e.$nextTick((function(){e.$refs.obs.reset()}));case 4:case"end":return t.stop()}}),t)})))()},submit:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$refs.obs.validate();case 2:if(r=t.sent,!r){t.next=14;break}return t.prev=4,t.next=7,e.$store.dispatch(p["c"],{uuid:e.alert.uuid,body:{search_term:e.search_term,interval_time:e.interval}});case 7:e.$router.go(),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](4),a=JSON.parse(t.t0.response.text).errors,e.$refs.obs.setErrors({search_term:a.search_term,intervals:a.interval_time});case 14:case"end":return t.stop()}}),t,null,[[4,10]])})))()}}},b=g,x=r("2877"),_=Object(x["a"])(b,v,f,!1,null,null,null),w=_.exports,k={name:"Alert",mixins:[m],components:{AlertEdit:w},data:function(){return{dialog:!1,dialogDelete:!1,msg:null,isSentEmail:!1}},props:{alert:{type:Object,required:!0,default:null}},methods:{closeDialog:function(){this.dialog=!1},closeDialogDelete:function(){this.dialogDelete=!1},destroy:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.dialogDelete=!0,e.isSentEmail=!0,t.next=4,e.$store.dispatch(p["b"],{uuid:e.alert.uuid});case 4:e.msg="We are sending the email! You will receive the email soon.",e.fetchAlerts();case 6:case"end":return t.stop()}}),t)})))()},fetchAlerts:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch(p["f"],{uuid:e.alert.owner.uuid});case 2:case"end":return t.stop()}}),t)})))()}}},y=k,$=Object(x["a"])(y,u,d,!1,null,null,null),j=$.exports,A={name:"AlertsList",mixins:[m],data:function(){return{pagination:{}}},components:{Alert:j},mounted:function(){this.fetchAlerts()},computed:Object(o["a"])(Object(o["a"])({},Object(c["b"])(["countAlerts","alerts"])),{},{pages:function(){return this.pagination.rowsPerPage?Math.ceil(this.alerts.length/this.pagination.rowsPerPage):0}}),methods:{fetchAlerts:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch(p["f"],{uuid:e.$route.params.uuid});case 2:case"end":return t.stop()}}),t)})))()}}},C=A,O=Object(x["a"])(C,i,s,!1,null,null,null),D=O.exports,S={name:"AlertsAccountList",components:{AlertsList:D},methods:{goHome:function(){this.$router.push({name:"home",params:{uuid:this.$route.params.uuid}})}}},E=S,R=Object(x["a"])(E,a,n,!1,null,null,null);t["default"]=R.exports}}]);
//# sourceMappingURL=chunk-2d22d3d8.5fd117bd.js.map